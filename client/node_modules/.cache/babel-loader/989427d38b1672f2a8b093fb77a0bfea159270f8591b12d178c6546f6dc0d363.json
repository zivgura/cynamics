{"ast":null,"code":"import{useState}from'react';import{BookPreviewContainer,BookDetailsContainer,BookTitleContainer,BookDetails,BookHeader,BookDescriptionContainer}from'./BookPreview.style';import{FavoriteStar}from'../FavoriteStar/FavoriteStar';import{BookModal}from'../BookModal/BookModal';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export function BookPreview(_ref){let{book,onFavoriteClick,children,isSelected=false}=_ref;const[isFavorite,setIsFavorite]=useState(isSelected);const[isModalOpen,setIsModalOpen]=useState(false);function handleFavoriteClick(){setIsFavorite(oldState=>!oldState);onFavoriteClick(book===null||book===void 0?void 0:book.id,isFavorite);}function handleBookClick(e){e.preventDefault();setIsModalOpen(!isModalOpen);}return/*#__PURE__*/_jsxs(BookPreviewContainer,{onClick:book?handleBookClick:()=>{},hasBook:!!book,children:[book?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:book===null||book===void 0?void 0:book.coverUrl,alt:'',width:\"150px\"}),/*#__PURE__*/_jsxs(BookDetailsContainer,{children:[/*#__PURE__*/_jsxs(BookHeader,{children:[/*#__PURE__*/_jsx(BookTitleContainer,{children:book===null||book===void 0?void 0:book.title}),/*#__PURE__*/_jsx(BookDescriptionContainer,{children:book===null||book===void 0?void 0:book.description})]}),/*#__PURE__*/_jsx(BookDetails,{children:/*#__PURE__*/_jsxs(\"section\",{children:[\"Price: \",book===null||book===void 0?void 0:book.price,\"$\"]})})]})]}):children,onFavoriteClick?/*#__PURE__*/_jsx(FavoriteStar,{onClick:handleFavoriteClick,isFavorite:isFavorite}):null,isModalOpen?/*#__PURE__*/_jsx(BookModal,{isOpen:isModalOpen,book:book,onClose:handleBookClick}):null]});};","map":{"version":3,"names":["useState","BookPreviewContainer","BookDetailsContainer","BookTitleContainer","BookDetails","BookHeader","BookDescriptionContainer","FavoriteStar","BookModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BookPreview","_ref","book","onFavoriteClick","children","isSelected","isFavorite","setIsFavorite","isModalOpen","setIsModalOpen","handleFavoriteClick","oldState","id","handleBookClick","e","preventDefault","onClick","hasBook","src","coverUrl","alt","width","title","description","price","isOpen","onClose"],"sources":["/Users/jonathan/dev/cynamics/client/src/BookPreview/BookPreview.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { BookPreviewContainer, BookDetailsContainer, BookTitleContainer, BookDetails, BookHeader, BookDescriptionContainer} from './BookPreview.style';\nimport {FavoriteStar} from '../FavoriteStar/FavoriteStar';\nimport { BookModal } from '../BookModal/BookModal';\n\n\nexport function BookPreview({book, onFavoriteClick, children, isSelected = false}){\n    const [isFavorite, setIsFavorite] = useState(isSelected);\n    const [isModalOpen, setIsModalOpen] = useState(false);\n\n    function handleFavoriteClick(){\n        setIsFavorite(oldState => !oldState);\n        onFavoriteClick(book?.id, isFavorite)\n    }\n\n    function handleBookClick(e){\n        e.preventDefault();\n        setIsModalOpen(!isModalOpen);\n    }\n\n    return(\n        <BookPreviewContainer \n            onClick={book ? handleBookClick : ()=>{}}\n            hasBook={!!book}\n        >\n            {book ? (\n            <>\n                <img src={book?.coverUrl} alt={''} width={\"150px\"}/>\n                <BookDetailsContainer>\n                            <BookHeader>\n                                <BookTitleContainer>{book?.title}</BookTitleContainer>\n                                <BookDescriptionContainer>{book?.description}</BookDescriptionContainer>\n                            </BookHeader>\n                            <BookDetails>\n                                <section>Price: {book?.price}$</section>\n                            </BookDetails>\n                        \n                </BookDetailsContainer>\n            </>)\n                : children\n            }\n            {onFavoriteClick ?\n             <FavoriteStar onClick={handleFavoriteClick} isFavorite={isFavorite}/>\n             : null\n            }\n            {isModalOpen ? \n                <BookModal isOpen={isModalOpen} book={book} onClose={handleBookClick}/>\n                : null    \n            }\n        </BookPreviewContainer>\n    )\n};\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,oBAAoB,CAAEC,oBAAoB,CAAEC,kBAAkB,CAAEC,WAAW,CAAEC,UAAU,CAAEC,wBAAwB,KAAO,qBAAqB,CACtJ,OAAQC,YAAY,KAAO,8BAA8B,CACzD,OAASC,SAAS,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAGnD,MAAO,SAAS,CAAAC,WAAWA,CAAAC,IAAA,CAAuD,IAAtD,CAACC,IAAI,CAAEC,eAAe,CAAEC,QAAQ,CAAEC,UAAU,CAAG,KAAK,CAAC,CAAAJ,IAAA,CAC7E,KAAM,CAACK,UAAU,CAAEC,aAAa,CAAC,CAAGtB,QAAQ,CAACoB,UAAU,CAAC,CACxD,KAAM,CAACG,WAAW,CAAEC,cAAc,CAAC,CAAGxB,QAAQ,CAAC,KAAK,CAAC,CAErD,QAAS,CAAAyB,mBAAmBA,CAAA,CAAE,CAC1BH,aAAa,CAACI,QAAQ,EAAI,CAACA,QAAQ,CAAC,CACpCR,eAAe,CAACD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEU,EAAE,CAAEN,UAAU,CAAC,CACzC,CAEA,QAAS,CAAAO,eAAeA,CAACC,CAAC,CAAC,CACvBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBN,cAAc,CAAC,CAACD,WAAW,CAAC,CAChC,CAEA,mBACIX,KAAA,CAACX,oBAAoB,EACjB8B,OAAO,CAAEd,IAAI,CAAGW,eAAe,CAAG,IAAI,CAAC,CAAE,CACzCI,OAAO,CAAE,CAAC,CAACf,IAAK,CAAAE,QAAA,EAEfF,IAAI,cACLL,KAAA,CAAAE,SAAA,EAAAK,QAAA,eACIT,IAAA,QAAKuB,GAAG,CAAEhB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEiB,QAAS,CAACC,GAAG,CAAE,EAAG,CAACC,KAAK,CAAE,OAAQ,CAAC,CAAC,cACpDxB,KAAA,CAACV,oBAAoB,EAAAiB,QAAA,eACTP,KAAA,CAACP,UAAU,EAAAc,QAAA,eACPT,IAAA,CAACP,kBAAkB,EAAAgB,QAAA,CAAEF,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEoB,KAAK,CAAqB,CAAC,cACtD3B,IAAA,CAACJ,wBAAwB,EAAAa,QAAA,CAAEF,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEqB,WAAW,CAA2B,CAAC,EAChE,CAAC,cACb5B,IAAA,CAACN,WAAW,EAAAe,QAAA,cACRP,KAAA,YAAAO,QAAA,EAAS,SAAO,CAACF,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsB,KAAK,CAAC,GAAC,EAAS,CAAC,CAC/B,CAAC,EAEJ,CAAC,EACzB,CAAC,CACGpB,QAAQ,CAEbD,eAAe,cACfR,IAAA,CAACH,YAAY,EAACwB,OAAO,CAAEN,mBAAoB,CAACJ,UAAU,CAAEA,UAAW,CAAC,CAAC,CACnE,IAAI,CAENE,WAAW,cACRb,IAAA,CAACF,SAAS,EAACgC,MAAM,CAAEjB,WAAY,CAACN,IAAI,CAAEA,IAAK,CAACwB,OAAO,CAAEb,eAAgB,CAAC,CAAC,CACrE,IAAI,EAEQ,CAAC,CAE/B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}